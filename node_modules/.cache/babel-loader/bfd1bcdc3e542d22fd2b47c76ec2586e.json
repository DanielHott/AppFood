{"ast":null,"code":"import _slicedToArray from\"/home/dh/Repositorio/AppFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import RecipesAppContext from'./RecipesAppContext';import RequisitionFood,{RequisitionFoodFirstName,RequisitionFoodName,getFoodByArea,RequisitionIdFood}from'../services/RequestDishes';import RequisitionDrink,{getDrinksByIngredient,getDrinksById}from'../services/RequestDrinks';function RecipesAppProvider(_ref){var children=_ref.children;var _useState=useState({type:'',description:''}),_useState2=_slicedToArray(_useState,2),dishesResquest=_useState2[0],setDishesRequest=_useState2[1];var _useState3=useState({type:'',description:''}),_useState4=_slicedToArray(_useState3,2),drinksResquest=_useState4[0],setDrinksRequest=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),foodId=_useState6[0],setFoodId=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),drinkId=_useState8[0],setDrinkId=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),idDishes=_useState10[0],setIdDishes=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),idDrinks=_useState12[0],setIdDrinks=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),dishes=_useState14[0],setDishes=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),suggestionDishes=_useState16[0],setSuggestionDishes=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),drinks=_useState18[0],setDrinks=_useState18[1];var _useState19=useState({cocktails:{},meals:{}}),_useState20=_slicedToArray(_useState19,2),inProgressRecipes=_useState20[0],setInProgress=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),toggle=_useState22[0],setToggle=_useState22[1];var firstLetter='primeira-letra';useEffect(function(){var description=dishesResquest.description,type=dishesResquest.type;if(description===''){RequisitionFood('','i').then(function(response){return setDishes(response);});}if(type==='ingrediente'){RequisitionFood(description,'i').then(function(response){return setDishes(response);});}if(description==='area'){getFoodByArea(type).then(function(response){return setDishes(response);});}if(type==='nome'){RequisitionFoodName(description).then(function(response){return setDishes(response);});}if(type===firstLetter&&description.length>1){global.alert('Sua busca deve conter somente 1 (um) caracter');}else if(type===firstLetter&&description){RequisitionFoodFirstName(description).then(function(response){return setDishes(response);});}},[dishesResquest]);useEffect(function(){var description=drinksResquest.description,type=drinksResquest.type;if(description===''){RequisitionDrink(description,'s').then(function(response){return setDrinks(response);});}if(type==='nome'){RequisitionDrink(description,'s').then(function(response){return setDrinks(response);});}if(type===firstLetter&&description.length>1){global.alert('Sua busca deve conter somente 1 (um) caracter');}else if(type===firstLetter&&description){RequisitionDrink(description,'f').then(function(response){return setDrinks(response);});}if(type==='ingrediente'){getDrinksByIngredient(description,'i').then(function(response){return setDrinks(response);});}},[drinksResquest]);useEffect(function(){if(foodId)RequisitionIdFood(foodId).then(function(response){return setIdDishes(response);});},[foodId]);useEffect(function(){if(drinkId){getDrinksById(drinkId).then(function(response){if(response)setIdDrinks(response);});RequisitionFoodName('').then(function(response){return setSuggestionDishes(response);});}},[drinkId]);useEffect(function(){var inProgress=JSON.parse(localStorage.getItem('inProgressRecipes'));if(!inProgress){localStorage.setItem('inProgressRecipes',JSON.stringify(inProgressRecipes));console.log('localStorage',inProgressRecipes);}},[inProgressRecipes]);return/*#__PURE__*/React.createElement(RecipesAppContext.Provider,{value:{dishesResquest:dishesResquest,setDishesRequest:setDishesRequest,drinksResquest:drinksResquest,setDrinksRequest:setDrinksRequest,dishes:dishes,drinks:drinks,toggle:toggle,setToggle:setToggle,setDrinks:setDrinks,setDishes:setDishes,setFoodId:setFoodId,setDrinkId:setDrinkId,idDishes:idDishes,idDrinks:idDrinks,suggestionDishes:suggestionDishes,inProgressRecipes:inProgressRecipes,setInProgress:setInProgress}},children);}export default RecipesAppProvider;","map":{"version":3,"sources":["/home/dh/Repositorio/AppFood/src/context/RecipesAppProvider.js"],"names":["React","useState","useEffect","RecipesAppContext","RequisitionFood","RequisitionFoodFirstName","RequisitionFoodName","getFoodByArea","RequisitionIdFood","RequisitionDrink","getDrinksByIngredient","getDrinksById","RecipesAppProvider","children","type","description","dishesResquest","setDishesRequest","drinksResquest","setDrinksRequest","foodId","setFoodId","drinkId","setDrinkId","idDishes","setIdDishes","idDrinks","setIdDrinks","dishes","setDishes","suggestionDishes","setSuggestionDishes","drinks","setDrinks","cocktails","meals","inProgressRecipes","setInProgress","toggle","setToggle","firstLetter","then","response","length","global","alert","inProgress","JSON","parse","localStorage","getItem","setItem","stringify","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport RecipesAppContext from './RecipesAppContext';\nimport RequisitionFood, {\n  RequisitionFoodFirstName,\n  RequisitionFoodName, getFoodByArea,\n  RequisitionIdFood,\n} from '../services/RequestDishes';\nimport RequisitionDrink,\n{ getDrinksByIngredient, getDrinksById } from '../services/RequestDrinks';\n\nfunction RecipesAppProvider({ children }) {\n  const [dishesResquest, setDishesRequest] = useState({ type: '', description: '' });\n  const [drinksResquest, setDrinksRequest] = useState({ type: '', description: '' });\n  const [foodId, setFoodId] = useState();\n  const [drinkId, setDrinkId] = useState();\n  const [idDishes, setIdDishes] = useState([]);\n  const [idDrinks, setIdDrinks] = useState([]);\n  const [dishes, setDishes] = useState([]);\n  const [suggestionDishes, setSuggestionDishes] = useState([]);\n  const [drinks, setDrinks] = useState([]);\n  const [inProgressRecipes, setInProgress] = useState({ cocktails: {}, meals: {} });\n  const [toggle, setToggle] = useState(false);\n  const firstLetter = 'primeira-letra';\n\n  useEffect(() => {\n    const { description, type } = dishesResquest;\n    if (description === '') {\n      RequisitionFood('', 'i').then((response) => setDishes(response));\n    }\n    if (type === 'ingrediente') {\n      RequisitionFood(description, 'i').then((response) => setDishes(response));\n    }\n    if (description === 'area') {\n      getFoodByArea(type).then((response) => setDishes(response));\n    }\n    if (type === 'nome') {\n      RequisitionFoodName(description)\n        .then((response) => setDishes(response));\n    }\n    if (type === firstLetter\n      && description.length > 1) {\n      global.alert('Sua busca deve conter somente 1 (um) caracter');\n    } else if (type === firstLetter && description) {\n      RequisitionFoodFirstName(description)\n        .then((response) => setDishes(response));\n    }\n  }, [dishesResquest]);\n\n  useEffect(() => {\n    const { description, type } = drinksResquest;\n    if (description === '') {\n      RequisitionDrink(description, 's').then((response) => setDrinks(response));\n    }\n    if (type === 'nome') {\n      RequisitionDrink(description, 's').then((response) => setDrinks(response));\n    }\n    if (type === firstLetter\n      && description.length > 1) {\n      global.alert('Sua busca deve conter somente 1 (um) caracter');\n    } else if (type === firstLetter\n        && description) {\n      RequisitionDrink(description, 'f').then((response) => setDrinks(response));\n    }\n    if (type === 'ingrediente') {\n      getDrinksByIngredient(description, 'i').then((response) => setDrinks(response));\n    }\n  }, [drinksResquest]);\n\n  useEffect(() => {\n    if (foodId) RequisitionIdFood(foodId).then((response) => setIdDishes(response));\n  }, [foodId]);\n\n  useEffect(() => {\n    if (drinkId) {\n      getDrinksById(drinkId).then((response) => {\n        if (response) setIdDrinks(response);\n      });\n      RequisitionFoodName('')\n        .then((response) => setSuggestionDishes(response));\n    }\n  }, [drinkId]);\n\n  useEffect(() => {\n    const inProgress = JSON.parse(localStorage.getItem('inProgressRecipes'));\n    if (!inProgress) {\n      localStorage.setItem('inProgressRecipes', JSON.stringify(inProgressRecipes));\n      console.log('localStorage', inProgressRecipes);\n    }\n  }, [inProgressRecipes]);\n\n  return (\n    <RecipesAppContext.Provider\n      value={ {\n        dishesResquest,\n        setDishesRequest,\n        drinksResquest,\n        setDrinksRequest,\n        dishes,\n        drinks,\n        toggle,\n        setToggle,\n        setDrinks,\n        setDishes,\n        setFoodId,\n        setDrinkId,\n        idDishes,\n        idDrinks,\n        suggestionDishes,\n        inProgressRecipes,\n        setInProgress,\n      } }\n    >\n      { children }\n    </RecipesAppContext.Provider>\n  );\n}\n\nRecipesAppProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default RecipesAppProvider;\n"]},"metadata":{},"sourceType":"module"}