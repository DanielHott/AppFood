{"ast":null,"code":"import _slicedToArray from\"/home/dh/Repositorio/AppFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import shareIcon from\"../images/shareIcon.svg\";function ShareButton(_ref){var index=_ref.index,url=_ref.url;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hasCopied=_useState2[0],setHasCopied=_useState2[1];var id=index>=0?\"\".concat(index,\"-horizontal-share-btn\"):'share-btn';var copyToClipboard=function copyToClipboard(){var URL=window.location.href.replace('/in-progress','');// ref.: 1 e 2\nvar URl=!url?URL:url;navigator.clipboard.writeText(URl);// ref.: 3, 4 e 5\nsetHasCopied(true);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:copyToClipboard},hasCopied?'Link copiado!':/*#__PURE__*/React.createElement(\"img\",{\"data-testid\":id,src:shareIcon,alt:\"share icon\"})));}ShareButton.defaultProps={url:''};export default ShareButton;// ref.: 1) https://www.devmedia.com.br/javascript-replace-substituindo-valores-em-uma-string/39176\n// ref.: 2) https://qastack.com.br/programming/1865837/whats-the-difference-between-window-location-and-window-location-replace\n// ref.: 3) https://developer-mozilla-org.translate.goog/en-US/docs/Web/API/Clipboard/writeText?_x_tr_sl=en&_x_tr_tl=pt&_x_tr_hl=pt-BR&_x_tr_pto=sc\n// ref.: 4) https://developer-mozilla-org.translate.goog/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard?_x_tr_sl=en&_x_tr_tl=pt&_x_tr_hl=pt-BR&_x_tr_pto=sc\n// ref.: 5) https://stackoverflow-com.translate.goog/questions/69438702/why-does-navigator-clipboard-writetext-not-copy-text-to-clipboard-if-it-is-pro?_x_tr_sl=en&_x_tr_tl=pt&_x_tr_hl=pt-BR&_x_tr_pto=sc","map":{"version":3,"sources":["/home/dh/Repositorio/AppFood/src/components/ShareButton.jsx"],"names":["React","useState","ShareButton","index","url","hasCopied","setHasCopied","id","copyToClipboard","URL","window","location","href","replace","URl","navigator","clipboard","writeText","shareIcon","defaultProps"],"mappings":"mJACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,+CAGA,QAASC,CAAAA,WAAT,MAAqC,IAAdC,CAAAA,KAAc,MAAdA,KAAc,CAAPC,GAAO,MAAPA,GAAO,eACDH,QAAQ,CAAC,KAAD,CADP,wCAC5BI,SAD4B,eACjBC,YADiB,eAEnC,GAAMC,CAAAA,EAAE,CAAGJ,KAAK,EAAI,CAAT,WAAgBA,KAAhB,0BAA+C,WAA1D,CAEA,GAAMK,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAMC,CAAAA,GAAG,CAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,OAArB,CAA6B,cAA7B,CAA6C,EAA7C,CAAZ,CAA8D;AAC9D,GAAMC,CAAAA,GAAG,CAAG,CAACV,GAAD,CAAOK,GAAP,CAAaL,GAAzB,CACAW,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8BH,GAA9B,EAAoC;AACpCR,YAAY,CAAC,IAAD,CAAZ,CACD,CALD,CAOA,mBACE,4CACE,8BACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAGE,eAFZ,EAIIH,SAAS,CACP,eADO,cAEP,2BAAK,cAAcE,EAAnB,CAAwB,GAAG,CAAGW,SAA9B,CAA0C,GAAG,CAAC,YAA9C,EANN,CADF,CADF,CAYD,CAODhB,WAAW,CAACiB,YAAZ,CAA2B,CACzBf,GAAG,CAAE,EADoB,CAA3B,CAIA,cAAeF,CAAAA,WAAf,CAEA;AACA;AACA;AACA;AACA","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport shareIcon from '../images/shareIcon.svg';\n\nfunction ShareButton({ index, url }) {\n  const [hasCopied, setHasCopied] = useState(false);\n  const id = index >= 0 ? `${index}-horizontal-share-btn` : 'share-btn';\n\n  const copyToClipboard = () => {\n    const URL = window.location.href.replace('/in-progress', ''); // ref.: 1 e 2\n    const URl = !url ? URL : url;\n    navigator.clipboard.writeText(URl); // ref.: 3, 4 e 5\n    setHasCopied(true);\n  };\n\n  return (\n    <div>\n      <button\n        type=\"button\"\n        onClick={ copyToClipboard }\n      >\n        { hasCopied\n          ? 'Link copiado!'\n          : <img data-testid={ id } src={ shareIcon } alt=\"share icon\" />}\n      </button>\n    </div>\n  );\n}\n\nShareButton.propTypes = {\n  index: PropTypes.string.isRequired,\n  url: PropTypes.string,\n};\n\nShareButton.defaultProps = {\n  url: '',\n};\n\nexport default ShareButton;\n\n// ref.: 1) https://www.devmedia.com.br/javascript-replace-substituindo-valores-em-uma-string/39176\n// ref.: 2) https://qastack.com.br/programming/1865837/whats-the-difference-between-window-location-and-window-location-replace\n// ref.: 3) https://developer-mozilla-org.translate.goog/en-US/docs/Web/API/Clipboard/writeText?_x_tr_sl=en&_x_tr_tl=pt&_x_tr_hl=pt-BR&_x_tr_pto=sc\n// ref.: 4) https://developer-mozilla-org.translate.goog/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard?_x_tr_sl=en&_x_tr_tl=pt&_x_tr_hl=pt-BR&_x_tr_pto=sc\n// ref.: 5) https://stackoverflow-com.translate.goog/questions/69438702/why-does-navigator-clipboard-writetext-not-copy-text-to-clipboard-if-it-is-pro?_x_tr_sl=en&_x_tr_tl=pt&_x_tr_hl=pt-BR&_x_tr_pto=sc\n"]},"metadata":{},"sourceType":"module"}