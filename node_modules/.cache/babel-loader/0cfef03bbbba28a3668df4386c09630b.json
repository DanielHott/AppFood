{"ast":null,"code":"import _slicedToArray from\"/home/dh/Repositorio/AppFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useHistory}from'react-router-dom';import md5 from'crypto-js/md5';import Footer from'../components/Footer';import Header from'../components/Header';function Perfil(){var history=useHistory();var user=JSON.parse(localStorage.getItem('user'));var _useState=useState(),_useState2=_slicedToArray(_useState,2),avatar=_useState2[0],setAvatar=_useState2[1];var _ref=user!==null&&user,email=_ref.email;var hash=md5(email).toString();useEffect(function(){if(email)fetch(\"https://www.gravatar.com/avatar/\".concat(hash)).then(function(response){return setAvatar(response);});});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{title:\"Perfil\"}),/*#__PURE__*/React.createElement(\"h3\",{\"data-testid\":\"profile-email\"},\"Email:\",email||'User'),avatar&&/*#__PURE__*/React.createElement(\"img\",{src:avatar.url,alt:\"\",width:\"200\",className:\"Perfil-img\"}),/*#__PURE__*/React.createElement(\"button\",{\"data-testid\":\"profile-favorite-btn\",className:\"receitas-perfil\",type:\"button\",onClick:function onClick(){return history.push('/receitas-favoritas');}},\"Receitas Favoritas\"),/*#__PURE__*/React.createElement(\"button\",{\"data-testid\":\"profile-done-btn\",type:\"button\",onClick:function onClick(){return history.push('/receitas-feitas');}},\"Receitas Feitas\"),/*#__PURE__*/React.createElement(\"button\",{\"data-testid\":\"profile-logout-btn\",type:\"button\",onClick:function onClick(){history.push('/');localStorage.clear();}},\"Sair\"),/*#__PURE__*/React.createElement(Footer,null));}export default Perfil;","map":{"version":3,"sources":["/home/dh/Repositorio/AppFood/src/pages/Perfil.jsx"],"names":["React","useEffect","useState","useHistory","md5","Footer","Header","Perfil","history","user","JSON","parse","localStorage","getItem","avatar","setAvatar","email","hash","toString","fetch","then","response","url","push","clear"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,GAAP,KAAgB,eAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CACA,GAAMM,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CAFgB,cAGYX,QAAQ,EAHpB,wCAGTY,MAHS,eAGDC,SAHC,wBAIEN,IAAI,GAAK,IAAT,EAAiBA,IAJnB,CAIRO,KAJQ,MAIRA,KAJQ,CAKhB,GAAMC,CAAAA,IAAI,CAAGb,GAAG,CAACY,KAAD,CAAH,CAAWE,QAAX,EAAb,CACAjB,SAAS,CAAC,UAAM,CACd,GAAIe,KAAJ,CAAWG,KAAK,2CAAoCF,IAApC,EAAL,CAAiDG,IAAjD,CAAsD,SAACC,QAAD,QAAcN,CAAAA,SAAS,CAACM,QAAD,CAAvB,EAAtD,EACZ,CAFQ,CAAT,CAGA,mBACE,qDACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,QAAd,EADF,cAEE,0BAAI,cAAY,eAAhB,WAEGL,KAAK,EAAI,MAFZ,CAFF,CAMIF,MAAM,eACN,2BAAK,GAAG,CAAGA,MAAM,CAACQ,GAAlB,CAAwB,GAAG,CAAC,EAA5B,CAA+B,KAAK,CAAC,KAArC,CAA2C,SAAS,CAAC,YAArD,EAPJ,cASE,8BACE,cAAY,sBADd,CAEE,SAAS,CAAC,iBAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,OAAO,CAAG,yBAAMd,CAAAA,OAAO,CAACe,IAAR,CAAa,qBAAb,CAAN,EAJZ,uBATF,cAkBE,8BACE,cAAY,kBADd,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAG,yBAAMf,CAAAA,OAAO,CAACe,IAAR,CAAa,kBAAb,CAAN,EAHZ,oBAlBF,cAyBE,8BACE,cAAY,oBADd,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAG,kBAAM,CACdf,OAAO,CAACe,IAAR,CAAa,GAAb,EACAX,YAAY,CAACY,KAAb,GACD,CANH,SAzBF,cAoCE,oBAAC,MAAD,MApCF,CADF,CAwCD,CAED,cAAejB,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport md5 from 'crypto-js/md5';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\n\nfunction Perfil() {\n  const history = useHistory();\n  const user = JSON.parse(localStorage.getItem('user'));\n  const [avatar, setAvatar] = useState();\n  const { email } = user !== null && user;\n  const hash = md5(email).toString();\n  useEffect(() => {\n    if (email) fetch(`https://www.gravatar.com/avatar/${hash}`).then((response) => setAvatar(response));\n  });\n  return (\n    <>\n      <Header title=\"Perfil\" />\n      <h3 data-testid=\"profile-email\">\n        Email:\n        {email || 'User'}\n      </h3>\n      { avatar\n     && <img src={ avatar.url } alt=\"\" width=\"200\" className=\"Perfil-img\" />}\n\n      <button\n        data-testid=\"profile-favorite-btn\"\n        className=\"receitas-perfil\"\n        type=\"button\"\n        onClick={ () => history.push('/receitas-favoritas') }\n      >\n        Receitas Favoritas\n      </button>\n\n      <button\n        data-testid=\"profile-done-btn\"\n        type=\"button\"\n        onClick={ () => history.push('/receitas-feitas') }\n      >\n        Receitas Feitas\n      </button>\n      <button\n        data-testid=\"profile-logout-btn\"\n        type=\"button\"\n        onClick={ () => {\n          history.push('/');\n          localStorage.clear();\n        } }\n      >\n        Sair\n      </button>\n\n      <Footer />\n    </>\n  );\n}\n\nexport default Perfil;\n"]},"metadata":{},"sourceType":"module"}