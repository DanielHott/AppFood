{"ast":null,"code":"import _defineProperty from\"/home/dh/Repositorio/appfood/AppFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/dh/Repositorio/appfood/AppFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/dh/Repositorio/appfood/AppFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import{Link,useHistory}from'react-router-dom';import Footer from'../components/Footer';import Header from'../components/Header';import{getDrinkIngredientList,getDrinksByIngredient,getDrinksById}from'../services/RequestDrinks';import RecipesAppContext from'../context/RecipesAppContext';import Categories from'../components/Categories';import'../css/recipes.css';import heart from'../images/heart.png';export default function Bebidas(){var _useContext=useContext(RecipesAppContext),drinks=_useContext.drinks,setDrinksRequest=_useContext.setDrinksRequest,setDrinks=_useContext.setDrinks,toggle=_useContext.toggle;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),drinkDetails=_useState2[0],setDrinkDetails=_useState2[1];var MAX_LENGTH_TITLE=12;useEffect(function(){drinks.forEach(function(_ref){var idDrink=_ref.idDrink;getDrinksById(idDrink).then(function(data){var _data$=data[0],strCategory=_data$.strCategory,strAlcoholic=_data$.strAlcoholic;setDrinkDetails(function(drink){return _objectSpread(_objectSpread({},drink),{},_defineProperty({},idDrink,{strAlcoholic:strAlcoholic,strCategory:strCategory}));});});});},[drinks]);var history=useHistory();return/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"bebida\"},/*#__PURE__*/React.createElement(Header,{title:\"Bebidas\",searchBtn:true,request:setDrinksRequest}),!toggle&&/*#__PURE__*/React.createElement(Categories,{getCategories:getDrinkIngredientList,getByCategorie:getDrinksByIngredient,setRequest:setDrinksRequest,keyRequest:{type:'',description:''},setElements:setDrinks,img:\"Drinks\",route:\"/bebidas\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"recipes-container\"},drinks&&drinks.map(function(_ref2){var idDrink=_ref2.idDrink,strDrink=_ref2.strDrink,strDrinkThumb=_ref2.strDrinkThumb;return/*#__PURE__*/React.createElement(Link,{to:\"bebidas/\".concat(idDrink),style:{display:'block'},key:idDrink,className:\"recipe-card\"},/*#__PURE__*/React.createElement(\"p\",null,strDrink.slice(0,MAX_LENGTH_TITLE)),drinks.length===1&&history.push(\"/bebidas/\".concat(drinks[0].idDrink)),/*#__PURE__*/React.createElement(\"img\",{className:\"img-card\",src:strDrinkThumb,alt:strDrink,width:\"150\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"category-paragraph\"},drinkDetails[idDrink]&&drinkDetails[idDrink].strCategory),/*#__PURE__*/React.createElement(\"div\",{className:\"container-details\"},/*#__PURE__*/React.createElement(\"p\",{className:\"area-paragraph\"},drinkDetails[idDrink]&&(drinkDetails[idDrink].strAlcoholic!=='Optional alcohol'?drinkDetails[idDrink].strAlcoholic:'Opt Alcoholic')),/*#__PURE__*/React.createElement(\"img\",{src:heart,alt:\"\",width:\"20px\"})));})),/*#__PURE__*/React.createElement(Footer,null));}","map":{"version":3,"sources":["/home/dh/Repositorio/appfood/AppFood/src/pages/Bebidas.jsx"],"names":["React","useContext","useEffect","useState","Link","useHistory","Footer","Header","getDrinkIngredientList","getDrinksByIngredient","getDrinksById","RecipesAppContext","Categories","heart","Bebidas","drinks","setDrinksRequest","setDrinks","toggle","drinkDetails","setDrinkDetails","MAX_LENGTH_TITLE","forEach","idDrink","then","data","strCategory","strAlcoholic","drink","history","type","description","map","strDrink","strDrinkThumb","display","slice","length","push"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport { getDrinkIngredientList,\n  getDrinksByIngredient, getDrinksById } from '../services/RequestDrinks';\nimport RecipesAppContext from '../context/RecipesAppContext';\nimport Categories from '../components/Categories';\nimport '../css/recipes.css';\nimport heart from '../images/heart.png';\n\nexport default function Bebidas() {\n  const { drinks, setDrinksRequest, setDrinks, toggle } = useContext(RecipesAppContext);\n  const [drinkDetails, setDrinkDetails] = useState({});\n  const MAX_LENGTH_TITLE = 12;\n\n  useEffect(() => {\n    drinks.forEach(({ idDrink }) => {\n      getDrinksById(idDrink)\n        .then((data) => {\n          const { strCategory, strAlcoholic } = data[0];\n          setDrinkDetails((drink) => (\n            { ...drink, [idDrink]: { strAlcoholic, strCategory } }));\n        });\n    });\n  }, [drinks]);\n  const history = useHistory();\n  return (\n    <div data-testid=\"bebida\">\n      <Header title=\"Bebidas\" searchBtn request={ setDrinksRequest } />\n      { !toggle\n      && <Categories\n        getCategories={ getDrinkIngredientList }\n        getByCategorie={ getDrinksByIngredient }\n        setRequest={ setDrinksRequest }\n        keyRequest={ { type: '', description: '' } }\n        setElements={ setDrinks }\n        img=\"Drinks\"\n        route=\"/bebidas\"\n      />}\n      <div className=\"recipes-container\">\n        {\n          drinks\n            && drinks.map(({ idDrink, strDrink, strDrinkThumb }) => (\n              <Link\n                to={ `bebidas/${idDrink}` }\n                style={ { display: 'block' } }\n                key={ idDrink }\n                className=\"recipe-card\"\n              >\n                <p>{strDrink.slice(0, MAX_LENGTH_TITLE)}</p>\n                { drinks.length === 1 && history.push(`/bebidas/${drinks[0].idDrink}`)}\n                <img\n                  className=\"img-card\"\n                  src={ strDrinkThumb }\n                  alt={ strDrink }\n                  width=\"150\"\n                />\n                <p className=\"category-paragraph\">\n                  {\n                    drinkDetails[idDrink] && drinkDetails[idDrink].strCategory\n                  }\n                </p>\n                <div className=\"container-details\">\n                  <p\n                    className=\"area-paragraph\"\n                  >\n                    {drinkDetails[idDrink]\n                    && (drinkDetails[idDrink].strAlcoholic !== 'Optional alcohol'\n                      ? drinkDetails[idDrink].strAlcoholic : 'Opt Alcoholic')}\n                  </p>\n                  <img src={ heart } alt=\"\" width=\"20px\" />\n                </div>\n              </Link>))\n        }\n      </div>\n      <Footer />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}