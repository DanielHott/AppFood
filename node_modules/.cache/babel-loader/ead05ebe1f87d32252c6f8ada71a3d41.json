{"ast":null,"code":"import _slicedToArray from\"/home/dh/Repositorio/appfood/AppFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useHistory}from'react-router-dom';import ShareButton from'../components/ShareButton';import profileIcon from\"../images/profileIcon.svg\";function ReceitasFeitas(){var _useState=useState('All'),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var doneRecipes=JSON.parse(localStorage.getItem('doneRecipes'));var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hasDoneRecipes=_useState4[0],setHasDoneRecipes=_useState4[1];var history=useHistory();function renderUrl(type,id){var URL=window.location.href.replace('/receitas-feitas','');var TYPE=\"\".concat(type,\"s\");return\"\".concat(URL,\"/\").concat(TYPE,\"/\").concat(id);}useEffect(function(){if(doneRecipes)setHasDoneRecipes(true);},[doneRecipes]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h1\",{\"data-testid\":\"page-title\"},\"Receitas Feitas\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return history.push('/perfil');},\"data-testid\":\"profile-top-btn\"},/*#__PURE__*/React.createElement(\"img\",{src:profileIcon,alt:\"Profile Icon\"}))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",\"data-testid\":\"filter-by-all-btn\",onClick:function onClick(){return setCategories('All');}},\"All\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",\"data-testid\":\"filter-by-food-btn\",onClick:function onClick(){return setCategories('food');}},\"Food\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",\"data-testid\":\"filter-by-drink-btn\",onClick:function onClick(){return setCategories('drink');}},\"Drinks\"),hasDoneRecipes?doneRecipes.filter(function(recipe){if(categories==='All'||recipe.type===categories)return true;return false;}).map(function(recipe,index){return/*#__PURE__*/React.createElement(\"div\",{key:recipe.id},/*#__PURE__*/React.createElement(Link,{to:recipe.type==='comida'?\"/comidas/\".concat(recipe.id):\"/bebidas/\".concat(recipe.id)},/*#__PURE__*/React.createElement(\"img\",{width:\"250px\",\"data-testid\":\"\".concat(index,\"-horizontal-image\"),src:recipe.image,alt:recipe.name})),/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-top-text\")},\"\".concat(recipe.area||recipe.alcoholicOrNot,\" - \").concat(recipe.category)),/*#__PURE__*/React.createElement(Link,{to:recipe.type==='comida'?\"/comidas/\".concat(recipe.id):\"/bebidas/\".concat(recipe.id)},/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-name\")},recipe.name)),/*#__PURE__*/React.createElement(\"p\",{\"data-testid\":\"\".concat(index,\"-horizontal-done-date\")},recipe.doneDate),/*#__PURE__*/React.createElement(\"div\",null,recipe.tags.map(function(tagName){return/*#__PURE__*/React.createElement(\"p\",{key:tagName.tags,\"data-testid\":\"\".concat(index,\"-\").concat(tagName,\"-horizontal-tag\")},tagName);})),/*#__PURE__*/React.createElement(ShareButton,{index:index,url:renderUrl(recipe.type,recipe.id)}));}):/*#__PURE__*/React.createElement(\"h3\",null,\"N\\xE3o h\\xE1 receitas feitas!\"));}export default ReceitasFeitas;","map":{"version":3,"sources":["/home/dh/Repositorio/appfood/AppFood/src/pages/ReceitasFeitas.jsx"],"names":["React","useState","useEffect","Link","useHistory","ShareButton","ReceitasFeitas","categories","setCategories","doneRecipes","JSON","parse","localStorage","getItem","hasDoneRecipes","setHasDoneRecipes","history","renderUrl","type","id","URL","window","location","href","replace","TYPE","push","profileIcon","filter","recipe","map","index","image","name","area","alcoholicOrNot","category","doneDate","tags","tagName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport ShareButton from '../components/ShareButton';\nimport profileIcon from '../images/profileIcon.svg';\n\nfunction ReceitasFeitas() {\n  const [categories, setCategories] = useState('All');\n  const doneRecipes = JSON.parse(localStorage.getItem('doneRecipes'));\n  const [hasDoneRecipes, setHasDoneRecipes] = useState(false);\n  const history = useHistory();\n\n  function renderUrl(type, id) {\n    const URL = window.location.href.replace('/receitas-feitas', '');\n    const TYPE = `${type}s`;\n    return `${URL}/${TYPE}/${id}`;\n  }\n\n  useEffect(() => {\n    if (doneRecipes) setHasDoneRecipes(true);\n  }, [doneRecipes]);\n\n  return (\n    <div>\n      <header>\n        <h1 data-testid=\"page-title\">Receitas Feitas</h1>\n        <button\n          type=\"button\"\n          onClick={ () => history.push('/perfil') }\n          data-testid=\"profile-top-btn\"\n        >\n          <img src={ profileIcon } alt=\"Profile Icon\" />\n        </button>\n      </header>\n      <hr />\n      <button\n        type=\"button\"\n        data-testid=\"filter-by-all-btn\"\n        onClick={ () => setCategories('All') }\n      >\n        All\n      </button>\n      <button\n        type=\"button\"\n        data-testid=\"filter-by-food-btn\"\n        onClick={ () => setCategories('food') }\n      >\n        Food\n      </button>\n      <button\n        type=\"button\"\n        data-testid=\"filter-by-drink-btn\"\n        onClick={ () => setCategories('drink') }\n      >\n        Drinks\n      </button>\n      { hasDoneRecipes\n        ? doneRecipes.filter((recipe) => {\n          if (categories === 'All' || recipe.type === categories) return true;\n          return false;\n        }).map((recipe, index) => (\n          <div key={ recipe.id }>\n            <Link\n              to={ recipe.type === 'comida'\n                ? `/comidas/${recipe.id}` : `/bebidas/${recipe.id}` }\n            >\n              <img\n                width=\"250px\"\n                data-testid={ `${index}-horizontal-image` }\n                src={ recipe.image }\n                alt={ recipe.name }\n              />\n            </Link>\n            <p data-testid={ `${index}-horizontal-top-text` }>\n              { `${recipe.area || recipe.alcoholicOrNot} - ${recipe.category}` }\n            </p>\n            <Link\n              to={ recipe.type === 'comida'\n                ? `/comidas/${recipe.id}` : `/bebidas/${recipe.id}` }\n            >\n              <p data-testid={ `${index}-horizontal-name` }>\n                { recipe.name }\n              </p>\n            </Link>\n            <p data-testid={ `${index}-horizontal-done-date` }>\n              { recipe.doneDate }\n            </p>\n            <div>\n              {recipe.tags.map((tagName) => (\n                <p\n                  key={ tagName.tags }\n                  data-testid={ `${index}-${tagName}-horizontal-tag` }\n                >\n                  { tagName }\n                </p>\n              ))}\n            </div>\n            <ShareButton\n              index={ index }\n              url={ renderUrl(recipe.type, recipe.id) }\n            />\n          </div>\n        ))\n        : <h3>Não há receitas feitas!</h3> }\n    </div>\n  );\n}\n\nexport default ReceitasFeitas;\n"]},"metadata":{},"sourceType":"module"}