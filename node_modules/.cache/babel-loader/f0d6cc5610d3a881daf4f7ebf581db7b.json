{"ast":null,"code":"import _slicedToArray from\"/home/dh/Repositorio/appfood/AppFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'../css/login.css';export default function Login(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isDisabled=_useState6[0],setIsDisabled=_useState6[1];useEffect(function(){var MIN_PASS_LENGTH=6;var checkEmail=/\\b[\\w.-]+@[\\w.-]+\\.\\w{2,4}\\b/gi.test(email);var checkPassword=password.length>MIN_PASS_LENGTH;if(checkEmail&&checkPassword){setIsDisabled(false);}else{setIsDisabled(true);}},[email,password]);function handleSubmit(event){event.preventDefault();localStorage.setItem('mealsToken',1);localStorage.setItem('cocktailsToken',1);localStorage.setItem('user',JSON.stringify({email:email}));history.push('/comidas');}return/*#__PURE__*/React.createElement(\"div\",{className:\"background-login\"},/*#__PURE__*/React.createElement(\"form\",{className:\"login\"},/*#__PURE__*/React.createElement(\"h1\",null,\"AppFood\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email-input\"},/*#__PURE__*/React.createElement(\"input\",{\"data-testid\":\"email-input\",onChange:function onChange(e){return setEmail(e.target.value);},id:\"email-input\",className:\"input-login\",placeholder:\"Email\",type:\"email\",value:email})),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password-input\"},/*#__PURE__*/React.createElement(\"input\",{\"data-testid\":\"password-input\",onChange:function onChange(e){return setPassword(e.target.value);},id:\"password-input\",className:\"input-login\",placeholder:\"Senha\",type:\"password\",value:password})),/*#__PURE__*/React.createElement(\"button\",{\"data-testid\":\"login-submit-btn\",disabled:isDisabled,className:\"button-login\",style:{display:'block'},onClick:handleSubmit,type:\"submit\"},\"Avan\\xE7ar\")));}","map":{"version":3,"sources":["/home/dh/Repositorio/appfood/AppFood/src/pages/Login.jsx"],"names":["React","useState","useEffect","Login","history","email","setEmail","password","setPassword","isDisabled","setIsDisabled","MIN_PASS_LENGTH","checkEmail","test","checkPassword","length","handleSubmit","event","preventDefault","localStorage","setItem","JSON","stringify","push","e","target","value","display"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,MAAO,kBAAP,CAEA,cAAe,SAASC,CAAAA,KAAT,MAA4B,IAAXC,CAAAA,OAAW,MAAXA,OAAW,eACfH,QAAQ,CAAC,EAAD,CADO,wCAClCI,KADkC,eAC3BC,QAD2B,8BAETL,QAAQ,CAAC,EAAD,CAFC,yCAElCM,QAFkC,eAExBC,WAFwB,8BAGLP,QAAQ,CAAC,IAAD,CAHH,yCAGlCQ,UAHkC,eAGtBC,aAHsB,eAKzCR,SAAS,CAAC,UAAM,CACd,GAAMS,CAAAA,eAAe,CAAG,CAAxB,CACA,GAAMC,CAAAA,UAAU,CAAG,iCAAiCC,IAAjC,CAAsCR,KAAtC,CAAnB,CACA,GAAMS,CAAAA,aAAa,CAAGP,QAAQ,CAACQ,MAAT,CAAkBJ,eAAxC,CACA,GAAIC,UAAU,EAAIE,aAAlB,CAAiC,CAC/BJ,aAAa,CAAC,KAAD,CAAb,CACD,CAFD,IAEO,CACLA,aAAa,CAAC,IAAD,CAAb,CACD,CACF,CATQ,CASN,CAACL,KAAD,CAAQE,QAAR,CATM,CAAT,CAWA,QAASS,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CAC3BA,KAAK,CAACC,cAAN,GACAC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAmC,CAAnC,EACAD,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAuC,CAAvC,EACAD,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAe,CAAEjB,KAAK,CAALA,KAAF,CAAf,CAA7B,EACAD,OAAO,CAACmB,IAAR,CAAa,UAAb,EACD,CAED,mBACE,2BAAK,SAAS,CAAC,kBAAf,eACE,4BAAM,SAAS,CAAC,OAAhB,eACE,wCADF,cAEE,6BAAO,OAAO,CAAC,aAAf,eACE,6BACE,cAAY,aADd,CAEE,QAAQ,CAAG,kBAACC,CAAD,QAAOlB,CAAAA,QAAQ,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAFb,CAGE,EAAE,CAAC,aAHL,CAIE,SAAS,CAAC,aAJZ,CAKE,WAAW,CAAC,OALd,CAME,IAAI,CAAC,OANP,CAOE,KAAK,CAAGrB,KAPV,EADF,CAFF,cAaE,6BAAO,OAAO,CAAC,gBAAf,eACE,6BACE,cAAY,gBADd,CAEE,QAAQ,CAAG,kBAACmB,CAAD,QAAOhB,CAAAA,WAAW,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAFb,CAGE,EAAE,CAAC,gBAHL,CAIE,SAAS,CAAC,aAJZ,CAKE,WAAW,CAAC,OALd,CAME,IAAI,CAAC,UANP,CAOE,KAAK,CAAGnB,QAPV,EADF,CAbF,cAwBE,8BACE,cAAY,kBADd,CAEE,QAAQ,CAAGE,UAFb,CAGE,SAAS,CAAC,cAHZ,CAIE,KAAK,CAAG,CAAEkB,OAAO,CAAE,OAAX,CAJV,CAKE,OAAO,CAAGX,YALZ,CAME,IAAI,CAAC,QANP,eAxBF,CADF,CADF,CAuCD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../css/login.css';\n\nexport default function Login({ history }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isDisabled, setIsDisabled] = useState(true);\n\n  useEffect(() => {\n    const MIN_PASS_LENGTH = 6;\n    const checkEmail = /\\b[\\w.-]+@[\\w.-]+\\.\\w{2,4}\\b/gi.test(email);\n    const checkPassword = password.length > MIN_PASS_LENGTH;\n    if (checkEmail && checkPassword) {\n      setIsDisabled(false);\n    } else {\n      setIsDisabled(true);\n    }\n  }, [email, password]);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    localStorage.setItem('mealsToken', 1);\n    localStorage.setItem('cocktailsToken', 1);\n    localStorage.setItem('user', JSON.stringify({ email }));\n    history.push('/comidas');\n  }\n\n  return (\n    <div className=\"background-login\">\n      <form className=\"login\">\n        <h1>AppFood</h1>\n        <label htmlFor=\"email-input\">\n          <input\n            data-testid=\"email-input\"\n            onChange={ (e) => setEmail(e.target.value) }\n            id=\"email-input\"\n            className=\"input-login\"\n            placeholder=\"Email\"\n            type=\"email\"\n            value={ email }\n          />\n        </label>\n        <label htmlFor=\"password-input\">\n          <input\n            data-testid=\"password-input\"\n            onChange={ (e) => setPassword(e.target.value) }\n            id=\"password-input\"\n            className=\"input-login\"\n            placeholder=\"Senha\"\n            type=\"password\"\n            value={ password }\n          />\n        </label>\n        <button\n          data-testid=\"login-submit-btn\"\n          disabled={ isDisabled }\n          className=\"button-login\"\n          style={ { display: 'block' } }\n          onClick={ handleSubmit }\n          type=\"submit\"\n        >\n          Avan√ßar\n        </button>\n      </form>\n    </div>\n  );\n}\n\nLogin.propTypes = {\n  email: PropTypes.string.isRequired,\n  hash: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}